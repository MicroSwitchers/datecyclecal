<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recurring Date Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script defer src="script.js"></script>
</head>
<body>
    <div class="container">
        <h1>Recurring Date Calculator</h1>
        <div class="columns">
            <div class="left-column">
                <h2>Input</h2>
                <div id="instances">
                    <div class="instance" id="instance-0">
                        <input type="text" class="instance-name" placeholder="Instance 1" value="Instance 1" oninput="updateInstanceName(0)">
                        <button class="today-button" onclick="setToday(0)">Today</button>
                        <div class="date-inputs">
                            <select class="yearSelect">
                                <option value="">Year</option>
                            </select>
                            <input list="months" class="monthInput" placeholder="MMM or # (Month)" onchange="validateMonthInput(this)">
                            <input type="text" class="dayInput" placeholder="DD (Day)" maxlength="2" onchange="validateDayInput(this)">
                        </div>
                        <datalist id="months">
                            <option value="Jan - (01)">
                            <option value="Feb - (02)">
                            <option value="Mar - (03)">
                            <option value="Apr - (04)">
                            <option value="May - (05)">
                            <option value="Jun - (06)">
                            <option value="Jul - (07)">
                            <option value="Aug - (08)">
                            <option value="Sep - (09)">
                            <option value="Oct - (10)">
                            <option value="Nov - (11)">
                            <option value="Dec - (12)">
                        </datalist>
                        <label for="increment">Increment:</label>
                        <div style="display: flex; gap: 10px;">
                            <select class="increment" required style="flex: 1;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                            </select>
                            <select class="increment-type" style="width: auto;">
                                <option value="days">Days</option>
                                <option value="weeks">Weeks</option>
                                <option value="months">Months</option>
                            </select>
                        </div>
                        <label for="num-occurrences">Number of Occurrences:</label>
                        <input type="number" class="num-occurrences" min="1" value="50" required>
                        <button class="calculate-button" onclick="calculateDates(0)">Calculate</button>
                    </div>
                </div>
                <button class="plus-button" onclick="addInstance()">+</button>
            </div>
            <div class="right-column">
                <h2>Calendar</h2>
                <div class="calendar-controls">
                    <button class="vibrant-button" onclick="changeMonth(-1)">Previous Month</button>
                    <span id="current-month"></span>
                    <button class="vibrant-button" onclick="changeMonth(1)">Next Month</button>
                </div>
                <div id="calendar"></div>
            </div>
        </div>
        <div class="columns">
            <div class="left-column">
                <h2>Date List</h2>
                <ul id="date-list"></ul>
            </div>
        </div>
    </div>
</body>
</html>
